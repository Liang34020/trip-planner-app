-- æ¸¬è©¦è³‡æ–™ç¨®å­ (Seed Data)
-- å°æ‡‰å‰ç«¯ mockData.ts çš„è³‡æ–™

-- 1. å»ºç«‹æ¸¬è©¦ç”¨æˆ¶
INSERT INTO users (user_id, email, password_hash, display_name) VALUES
('11111111-1111-1111-1111-111111111111', 'demo@tripplanner.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewY5GyYzpLaEg6YK', 'Demo User')
ON CONFLICT (email) DO NOTHING;
-- å¯†ç¢¼: demo123456

-- 2. æ’å…¥æ±äº¬æ™¯é»è³‡æ–™
INSERT INTO places (place_id, name, address, latitude, longitude, place_type, photo_url, rating) VALUES
('a1111111-1111-1111-1111-111111111111', 'æ·ºè‰å¯º', 'æ±äº¬éƒ½å°æ±å€æ·ºè‰2-3-1', 35.7147651, 139.7966553, 'attraction', 'https://images.unsplash.com/photo-1590559899731-a382839e5549?w=400', 4.5),
('a2222222-2222-2222-2222-222222222222', 'æ±äº¬æ™´ç©ºå¡”', 'æ±äº¬éƒ½å¢¨ç”°å€æŠ¼ä¸Š1-1-2', 35.7100627, 139.8107004, 'attraction', 'https://images.unsplash.com/photo-1536098561742-ca998e48cbcc?w=400', 4.6),
('a3333333-3333-3333-3333-333333333333', 'ç¯‰åœ°å¸‚å ´', 'æ±äº¬éƒ½ä¸­å¤®å€ç¯‰åœ°5-2-1', 35.6654861, 139.7706588, 'restaurant', 'https://images.unsplash.com/photo-1579584425555-c3ce17fd4351?w=400', 4.3),
('a4444444-4444-4444-4444-444444444444', 'æ˜æ²»ç¥å®®', 'æ±äº¬éƒ½æ¾€è°·å€ä»£ä»£æœ¨ç¥åœ’ç”º1-1', 35.6761919, 139.6993259, 'attraction', 'https://images.unsplash.com/photo-1528360983277-13d401cdc186?w=400', 4.5),
('a5555555-5555-5555-5555-555555555555', 'ä¸Šé‡å…¬åœ’', 'æ±äº¬éƒ½å°æ±å€ä¸Šé‡å…¬åœ’', 35.7148066, 139.7738953, 'park', 'https://images.unsplash.com/photo-1522383225653-ed111181a951?w=400', 4.4),
('a6666666-6666-6666-6666-666666666666', 'æ¾€è°·åå­—è·¯å£', 'æ±äº¬éƒ½æ¾€è°·å€é“ç„å‚2-1', 35.6595, 139.7004, 'attraction', 'https://images.unsplash.com/photo-1542051841857-5f90071e7989?w=400', 4.2)
ON CONFLICT (place_id) DO NOTHING;

-- 3. å°‡æ‰€æœ‰åœ°é»åŠ å…¥ç”¨æˆ¶æ”¶è—æ± 
INSERT INTO user_saved_places (saved_id, user_id, place_id, notes, is_placed) VALUES
('b1111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', 'a1111111-1111-1111-1111-111111111111', 'å¿…å»æ™¯é»ï¼æ—©ä¸Š8é»é–‹é–€', true),
('b2222222-2222-2222-2222-222222222222', '11111111-1111-1111-1111-111111111111', 'a2222222-2222-2222-2222-222222222222', 'æ™šä¸Šç‡ˆå…‰å¾ˆç¾', true),
('b3333333-3333-3333-3333-333333333333', '11111111-1111-1111-1111-111111111111', 'a3333333-3333-3333-3333-333333333333', 'æ—©é¤æ¨è–¦æµ·é®®ä¸¼', false),
('b4444444-4444-4444-4444-444444444444', '11111111-1111-1111-1111-111111111111', 'a4444444-4444-4444-4444-444444444444', 'å¾ˆå®‰éœçš„åœ°æ–¹', false),
('b5555555-5555-5555-5555-555555555555', '11111111-1111-1111-1111-111111111111', 'a5555555-5555-5555-5555-555555555555', 'æ˜¥å¤©è³æ«»å‹åœ°', false),
('b6666666-6666-6666-6666-666666666666', '11111111-1111-1111-1111-111111111111', 'a6666666-6666-6666-6666-666666666666', 'æ‹ç…§æ‰“å¡é»', false)
ON CONFLICT (user_id, place_id) DO NOTHING;

-- 4. å»ºç«‹æ±äº¬äº”æ—¥éŠè¡Œç¨‹
INSERT INTO trips (trip_id, user_id, trip_name, destination, start_date, end_date, timezone) VALUES
('c1111111-1111-1111-1111-111111111111', '11111111-1111-1111-1111-111111111111', 'æ±äº¬äº”æ—¥éŠ', 'æ—¥æœ¬æ±äº¬', '2025-03-15', '2025-03-19', 'Asia/Tokyo')
ON CONFLICT (trip_id) DO NOTHING;

-- 5. å»ºç«‹ 5 å¤©çš„è¡Œç¨‹
INSERT INTO itinerary_days (day_id, trip_id, day_number, date, notes) VALUES
('d1111111-1111-1111-1111-111111111111', 'c1111111-1111-1111-1111-111111111111', 1, '2025-03-15', 'æŠµé”æ±äº¬ï¼Œæ·ºè‰å¯ºå‘¨é‚Š'),
('d2222222-2222-2222-2222-222222222222', 'c1111111-1111-1111-1111-111111111111', 2, '2025-03-16', ''),
('d3333333-3333-3333-3333-333333333333', 'c1111111-1111-1111-1111-111111111111', 3, '2025-03-17', ''),
('d4444444-4444-4444-4444-444444444444', 'c1111111-1111-1111-1111-111111111111', 4, '2025-03-18', ''),
('d5555555-5555-5555-5555-555555555555', 'c1111111-1111-1111-1111-111111111111', 5, '2025-03-19', 'å›ç¨‹æ—¥')
ON CONFLICT (day_id) DO NOTHING;

-- 6. Day 1 åŠ å…¥ 2 å€‹æ™¯é»
INSERT INTO itinerary_items (item_id, day_id, place_id, sequence, scheduled_time, duration_minutes, transport_to_next) VALUES
('e1111111-1111-1111-1111-111111111111', 'd1111111-1111-1111-1111-111111111111', 'a1111111-1111-1111-1111-111111111111', 1.0, '09:00:00', 90, 'walk'),
('e2222222-2222-2222-2222-222222222222', 'd1111111-1111-1111-1111-111111111111', 'a2222222-2222-2222-2222-222222222222', 2.0, '11:00:00', 120, NULL)
ON CONFLICT (item_id) DO NOTHING;

-- 7. æ›´æ–°æ”¶è—æ± ç‹€æ…‹
UPDATE user_saved_places SET 
    current_itinerary_item_id = 'e1111111-1111-1111-1111-111111111111'
WHERE saved_id = 'b1111111-1111-1111-1111-111111111111';

UPDATE user_saved_places SET 
    current_itinerary_item_id = 'e2222222-2222-2222-2222-222222222222'
WHERE saved_id = 'b2222222-2222-2222-2222-222222222222';

-- å®Œæˆè¨Šæ¯
DO $$
BEGIN
    RAISE NOTICE 'âœ… æ¸¬è©¦è³‡æ–™è¼‰å…¥å®Œæˆï¼';
    RAISE NOTICE 'ğŸ“§ æ¸¬è©¦å¸³è™Ÿ: demo@tripplanner.com';
    RAISE NOTICE 'ğŸ”‘ æ¸¬è©¦å¯†ç¢¼: demo123456';
END $$;